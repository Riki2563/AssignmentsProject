<div class="card">
    <div class="d-flex justify-content-center mt-5">
        <h3>{{CONSTANTS.ASSIGNMENT_LIST}}</h3>
    </div>
    <p-button class="mb-3" (click)="navigateAddAssignment()" [label]="CONSTANTS.ADD_ENTRY"></p-button>

    <p-table [value]="assignments">
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="id">{{CONSTANTS.CODE}} <p-sortIcon field="id"></p-sortIcon>
                </th>
                <th pSortableColumn="name">{{CONSTANTS.NAME}} <p-sortIcon field="name"></p-sortIcon>
                </th>
                <th pSortableColumn="description">{{CONSTANTS.DESCRIPTION}} <p-sortIcon field="description"></p-sortIcon>
                </th>
                <th pSortableColumn="typeName">{{CONSTANTS.TYPE}} <p-sortIcon field="typeName"></p-sortIcon>
                </th>
                <th pSortableColumn="startDate">{{CONSTANTS.START_DATE}} <p-sortIcon field="startDate"></p-sortIcon>
                </th>
                <th pSortableColumn="endDate">{{CONSTANTS.END_DATE}} <p-sortIcon field="endDate"></p-sortIcon>
                </th>
                <th pSortableColumn="isRepeat">{{CONSTANTS.IS_REPEAT}}<p-sortIcon field="isRepeat"></p-sortIcon>
                </th>
                <th pSortableColumn="isFinished">{{CONSTANTS.IS_ENDED}} <p-sortIcon field="isFinished"></p-sortIcon>
                </th>
                <th>{{CONSTANTS.UPDATE}} </th>
                <th>{{CONSTANTS.DELETE}} </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-assignment>
            <tr>
                <td>{{assignment.id}}</td>
                <td>{{assignment.assignment.name}}</td>
                <td>{{assignment.assignment.description}}</td>
                <td>{{assignment.assignment.assignmentType.typeName}}</td>
                <td>{{assignment.startDate | date: 'dd-MM-yyyy'}}</td>
                <td>{{assignment.endDate | date: 'dd-MM-yyyy'}}</td>
                <td>{{assignment.assignment.isRepeat}}</td>
                <td>
                    <input type="checkbox" [(ngModel)]="assignment.isFinished" [ngModelOptions]="{standalone: true}" />`
                </td>
                <td> <button (click)="confirmUpdate(assignment.id)" pButton type="button" [label]="CONSTANTS.UPDATE"
                        icon="pi pi-check"></button> </td>
                <td> <button (click)="confirmDelete(assignment.id)" pButton type="button" [label]="CONSTANTS.DELETE"
                        icon="pi pi-trash"></button> </td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text">
</p-confirmDialog>
<p-toast></p-toast>